<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Analytics API Documentation</title>
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<body>
    <div class="container my-5">
        <!-- Header -->
        <div class="text-center mb-5">
            <h1 class="display-4 text-primary">
                <i class="fas fa-racing-car"></i> F1 Analytics API
            </h1>
            <p class="lead text-muted">Comprehensive Formula 1 Data Analysis REST API</p>
            <p class="text-info">Real-time telemetry, strategy analysis, and performance insights</p>
        </div>

        <!-- Quick Start -->
        <div class="row mb-5">
            <div class="col-12">
                <div class="card border-primary">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-rocket"></i> Quick Start
                        </h3>
                    </div>
                    <div class="card-body">
                        <p>Base URL: <code class="text-warning">{{ request.url_root }}api</code></p>
                        <p>All responses are in JSON format. The API provides comprehensive F1 data analysis including telemetry, tire strategies, weather analytics, and driver performance metrics.</p>
                        
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i>
                            <strong>Data Source:</strong> All data is sourced from FastF1 library using official F1 timing data.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- API Endpoints -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-code"></i> API Endpoints
                        </h3>
                    </div>
                    <div class="card-body">
                        <!-- Health Check -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-success">
                                <span class="badge bg-success">GET</span> /health
                            </h4>
                            <p>Health check endpoint to verify API status.</p>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light">GET {{ request.url_root }}api/health</code>
                            </div>
                        </div>

                        <!-- Constants -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-success">
                                <span class="badge bg-success">GET</span> /constants
                            </h4>
                            <p>Get F1 constants including teams, drivers, circuits, and tire colors.</p>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light">GET {{ request.url_root }}api/constants</code>
                            </div>
                        </div>

                        <!-- Seasons -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-success">
                                <span class="badge bg-success">GET</span> /seasons
                            </h4>
                            <p>Get available F1 seasons for analysis.</p>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light">GET {{ request.url_root }}api/seasons</code>
                            </div>
                        </div>

                        <!-- Session Data -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-success">
                                <span class="badge bg-success">GET</span> /session-data
                            </h4>
                            <p>Get session data for a specific year, grand prix, and session.</p>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light">GET {{ request.url_root }}api/session-data?year=2024&grand_prix=Bahrain&session=Race</code>
                            </div>
                            <div class="mt-2">
                                <strong>Parameters:</strong>
                                <ul class="list-unstyled ms-3">
                                    <li><code>year</code> (required): Year (e.g., 2024)</li>
                                    <li><code>grand_prix</code> (required): Grand Prix name (e.g., "Bahrain")</li>
                                    <li><code>session</code> (required): Session type ("Practice 1", "Practice 2", "Practice 3", "Qualifying", "Race")</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Telemetry -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-success">
                                <span class="badge bg-success">GET</span> /telemetry
                            </h4>
                            <p>Get detailed telemetry data for specific drivers.</p>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light">GET {{ request.url_root }}api/telemetry?year=2024&grand_prix=Bahrain&session=Race&drivers=VER&drivers=HAM</code>
                            </div>
                            <div class="mt-2">
                                <strong>Parameters:</strong>
                                <ul class="list-unstyled ms-3">
                                    <li><code>year</code> (required): Year</li>
                                    <li><code>grand_prix</code> (required): Grand Prix name</li>
                                    <li><code>session</code> (required): Session type</li>
                                    <li><code>drivers</code> (required): Driver codes (can be multiple)</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Lap Times -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-success">
                                <span class="badge bg-success">GET</span> /lap-times
                            </h4>
                            <p>Get lap times for all drivers in a session.</p>
                            <div class="bg-dark p-3 rounded">
                                <code class="text-light">GET {{ request.url_root }}api/lap-times?year=2024&grand_prix=Bahrain&session=Race</code>
                            </div>
                        </div>

                        <!-- Advanced Analytics -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-warning">
                                <span class="badge bg-warning text-dark">Advanced Analytics</span>
                            </h4>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Tire Strategy</h5>
                                            <p class="card-text small">Analyze tire strategies and performance</p>
                                            <code class="small">GET /tire-strategy</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Weather Analysis</h5>
                                            <p class="card-text small">Weather conditions and impact analysis</p>
                                            <code class="small">GET /weather-analysis</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Race Strategy</h5>
                                            <p class="card-text small">Race strategy analysis and effectiveness</p>
                                            <code class="small">GET /race-strategy</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Driver Stress</h5>
                                            <p class="card-text small">Driver stress analysis from telemetry</p>
                                            <code class="small">GET /driver-stress</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Downforce Analysis</h5>
                                            <p class="card-text small">Aerodynamic performance analysis</p>
                                            <code class="small">GET /downforce-analysis</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Brake Analysis</h5>
                                            <p class="card-text small">Braking performance and efficiency</p>
                                            <code class="small">GET /brake-analysis</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Composite Performance</h5>
                                            <p class="card-text small">Multi-dimensional performance analysis</p>
                                            <code class="small">GET /composite-performance</code>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-secondary">
                                        <div class="card-body">
                                            <h5 class="card-title text-info">Enhanced Analytics</h5>
                                            <p class="card-text small">Comprehensive session insights</p>
                                            <code class="small">GET /enhanced-analytics</code>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Response Format -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-info">
                                <i class="fas fa-file-code"></i> Response Format
                            </h4>
                            <p>All API responses follow a consistent JSON format:</p>
                            <div class="bg-dark p-3 rounded">
                                <pre class="text-light mb-0"><code>{
  "data": {
    // Response data specific to endpoint
  },
  "session_info": {
    "year": 2024,
    "grand_prix": "Bahrain",
    "session": "Race"
  }
}</code></pre>
                            </div>
                        </div>

                        <!-- Error Handling -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-danger">
                                <i class="fas fa-exclamation-triangle"></i> Error Handling
                            </h4>
                            <p>Error responses include appropriate HTTP status codes and detailed error messages:</p>
                            <div class="bg-dark p-3 rounded">
                                <pre class="text-light mb-0"><code>{
  "error": "Bad Request",
  "message": "Missing required parameters: year, grand_prix, session"
}</code></pre>
                            </div>
                            <div class="mt-3">
                                <strong>Common HTTP Status Codes:</strong>
                                <ul class="list-unstyled ms-3">
                                    <li><span class="badge bg-success">200</span> Success</li>
                                    <li><span class="badge bg-warning text-dark">400</span> Bad Request - Invalid parameters</li>
                                    <li><span class="badge bg-danger">404</span> Not Found - Data not available</li>
                                    <li><span class="badge bg-danger">500</span> Internal Server Error</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Usage Examples -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-primary">
                                <i class="fas fa-lightbulb"></i> Usage Examples
                            </h4>
                            
                            <div class="accordion" id="examplesAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#example1">
                                            Basic Session Analysis
                                        </button>
                                    </h2>
                                    <div id="example1" class="accordion-collapse collapse show" data-bs-parent="#examplesAccordion">
                                        <div class="accordion-body">
                                            <p>Get basic session data and then analyze telemetry for top drivers:</p>
                                            <div class="bg-dark p-3 rounded">
                                                <pre class="text-light mb-0"><code>// 1. Get session data
GET /api/session-data?year=2024&grand_prix=Monaco&session=Qualifying

// 2. Get telemetry for comparison
GET /api/telemetry?year=2024&grand_prix=Monaco&session=Qualifying&drivers=VER&drivers=LEC

// 3. Analyze lap times
GET /api/lap-times?year=2024&grand_prix=Monaco&session=Qualifying</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#example2">
                                            Race Strategy Analysis
                                        </button>
                                    </h2>
                                    <div id="example2" class="accordion-collapse collapse" data-bs-parent="#examplesAccordion">
                                        <div class="accordion-body">
                                            <p>Comprehensive race strategy analysis:</p>
                                            <div class="bg-dark p-3 rounded">
                                                <pre class="text-light mb-0"><code>// 1. Get race strategy analysis
GET /api/race-strategy?year=2024&grand_prix=Silverstone

// 2. Get tire performance data
GET /api/tire-strategy?year=2024&grand_prix=Silverstone

// 3. Get weather impact
GET /api/weather-analysis?year=2024&grand_prix=Silverstone&session=Race</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#example3">
                                            Driver Performance Deep Dive
                                        </button>
                                    </h2>
                                    <div id="example3" class="accordion-collapse collapse" data-bs-parent="#examplesAccordion">
                                        <div class="accordion-body">
                                            <p>Detailed driver performance analysis:</p>
                                            <div class="bg-dark p-3 rounded">
                                                <pre class="text-light mb-0"><code>// 1. Get driver stress analysis
GET /api/driver-stress?year=2024&grand_prix=Spa&session=Race&driver=HAM

// 2. Get brake analysis
GET /api/brake-analysis?year=2024&grand_prix=Spa&session=Race&driver=HAM

// 3. Get composite performance
GET /api/composite-performance?year=2024&grand_prix=Spa&session=Race</code></pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Features -->
                        <div class="endpoint-section mb-4">
                            <h4 class="text-success">
                                <i class="fas fa-star"></i> Key Features
                            </h4>
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <div class="card border-success">
                                        <div class="card-body text-center">
                                            <i class="fas fa-tachometer-alt fa-2x text-success mb-3"></i>
                                            <h5>Real-time Telemetry</h5>
                                            <p class="small">Speed, throttle, brake, RPM, and gear data</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card border-info">
                                        <div class="card-body text-center">
                                            <i class="fas fa-chart-line fa-2x text-info mb-3"></i>
                                            <h5>Performance Analytics</h5>
                                            <p class="small">Comprehensive driver and car performance metrics</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card border-warning">
                                        <div class="card-body text-center">
                                            <i class="fas fa-cog fa-2x text-warning mb-3"></i>
                                            <h5>Strategy Analysis</h5>
                                            <p class="small">Tire strategies, pit stops, and race tactics</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-5 pt-4 border-top">
            <p class="text-muted">
                <i class="fas fa-code"></i> F1 Analytics API - Built with Flask and FastF1
            </p>
            <p class="small text-muted">
                Data sourced from official F1 timing systems via FastF1 library
            </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
